# 作业2

## 1. P6

**题目**：这个习题开始探讨传播时延和传输时延，这是数据网络中的两个重要概念。考虑两台主机A和B由 一条速率为 $ R $ bps的链路相连。假定这两台主机相隔 $m$ 米，沿该链路的传播速率为 $s$ m/s。主机A向主机B发送长度 $L$ 比特的分组。 

**a. 用 $m$ 和 $s$ 来表示传播时延 $d_{prop}$**

传播时延是指比特在链路上传播所需要的时间，其值应等于两台主机间的距离除以传播速率。
故：$d_{prop} = m / s$

**b. 用 $L$ 和 $R$ 来确定该分组的传输时间 $d_{trans}$**

传播时延是指将所有分组的比特推向链路所需要的时间，对于单个分组而言，其值应等于分组的长度除以链路传输速率。
故：$d_{trans} = L/R$

**c. 忽略处理和排队时延，得出端到端时延的表达式。**

由公式 $d_{nodal} = d_{proc} + d_{prop} + d_{trans} + d_{queue}$，忽略处理时延 $d_{proc}$ 和排队时延 $d_{queue}$，得：
$d_{nodal} = d_{prop} + d_{trans} = \frac{m}{s} + \frac{L}{R}$

**d. 假定主机A在时刻 $t=0$ 开始传输该分组。在时刻 $t=d_{trans}$，该分组的最后一个比特在什么地方？** 

时刻 $t=d_{trans}$ 时，主机A将该分组所有比特传输到了链路上，故该分组最后一个比特刚刚离开A

**e. 假定 $d_{prop}$ 大于 $d_{trans}$。在时刻 $t=d_{trans}$ 该分组的第一个比特在何处？** 

由于 $d_{prop} > d_{trans}$，在时刻 $t = d_{trans}$ 时，该分组尚未有一个比特到达目的主机B。
故：此时分组的第一个比特还在链路上。

**f. 假定 $d_{prop}$ 小于 $d_{trans}$ 。在时刻 $t = d_{trans}$ ，该分组的第一个比特在何处？** 

在时刻 $t = d_{prop}$ 时，该分组第一个比特已经到达目的主机B。由于 $d_{prop} < d_{trans}$，故：
在时刻 $t = d_{trans}$ 时，该分组第一个比特已经到达目的主机B。

**g. 假定 $s = 2.5 \times 10^8$ , $L = 120$ 比特，$R = 56$ kbps。求出使 $d_{prop}$ 等于 $d_{trans}$ 的距离 $m$**

使 $d_{prop} = d_{trans}$ ，即  $\frac{m}{s} = \frac{L}{R}$.
带入数据计算得：$m = \frac{Ls}{R} = 5.36 \times 10^5$

------------

## 2. P15

**题目**：令 $a$ 表示在一条链路上分组的到达率（以分组/秒计），令 $\mu$ 表示一条链路上分组的传输率（以分组/秒计）。基于上述习题中推导出的总时延公式（即排队时延加传输时延），推导岀以 $a$ 和 $\mu$ 表示的总时延公式。

**解**：由题意可知，$d_{nodal} = d_{queue} + d_{trans}$
根据习题 P14 可知，排队时延的形式为 $d_{queue} = \frac{IL}{R(1-I)}$，其中 $I$ 表示流量强度，$R$ 表示传输速率，$L$ 表示分组长度。而 $I = \frac{La}{R}$，而 $d_{trans} = \frac{L}{R}$ 则 $d_{nodal}$ 可由下式计算：
$$
\begin{aligned}
d_{nodal} &= d_{queue} + d_{trans}\\[6pt]
&=\frac{IL}{R(1-I)} + \frac{L}{R}\\[6pt]
&=\frac{L}{R(1-I)}\\[6pt]
&=\frac{L}{R-aL}\\[6pt]
&=\frac{1}{\frac{R}{L}-a}
\end{aligned}
$$
由于 $\mu$ 表示分组传输率，单位为 分组/秒，故 $\mu \times L = R$，即 $\mu = \frac{R}{L}$
则 $d_{nodal} = \frac{1}{\mu-a}$

-----------

## 3. P16

**题目**：考虑一台路由器缓存前面的一条出链路。在这个习题中，将使用李特尔（Little）公式，这是排队论中的一个著名公式。令 $N$ 表示在缓存中的分组加上被传输的分组的平均数。令 $a$ 表示到达该链路的分组速率。令 $d$ 表示一个分组历经的平均总时延（即排队时延加传输时延）。李特尔公式是 $N = a \times d$ 。假定该缓存平均包含10个分组，并且平均分组排队时延是10ms。该链路的传输速率是100分组/秒。使用李特尔公式，在没有丢包的情况下，平均分组到达率是多少？

**解**：由题意知，$a = \frac{N}{d}$
由于 $N$ 表示缓存中的分组加上被传输的分组的平均数，而题中已说明缓存平均包含10个分组，加上传输中的1个分组，则 $N = 11$.
而 平均总时延 $d_{nodal} = d_{trans} + d_{queue}$，由于链路传输速率为 100分组/秒，故 $d_{trans} = 1 / 100$ s = 10 ms. 而题中已给出 $d_{queue} = 10ms$. 则平均分组到达率 $a$ 的计算如下：
$$
\begin{aligned}
a &= \frac{N}{d}\\[6pt]
&= \frac{11}{10 + 10} 分组/毫秒\\[6pt]
&= 550 分组/秒
\end{aligned}
$$

